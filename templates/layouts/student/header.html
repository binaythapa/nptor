{% load static %}

<header class="site-header">
  <div class="container header-inner">

    <!-- LEFT -->
    <div class="header-left">

      <button id="sidebar-toggle" class="button is-white is-hidden-desktop">
        <i class="fa fa-bars"></i>
      </button>

      <div class="brand-group">
        <a class="brand"
           href="{% if user.is_authenticated %}
                    {% url 'quiz:dashboard' %}
                 {% else %}
                    {% url 'quiz:practice' %}
                 {% endif %}">
          <img src="{% static 'images/logo.jpg' %}"
               class="brand-logo"
               alt="{{ site_name }}">
          <span class="brand-text">
            {{ site_name|default:"Nepal Mentor" }}
          </span>
        </a>
      </div>

      {% if user.is_authenticated %}
      <form action="{% url 'quiz:exam_list' %}"
            method="get"
            class="header-search">
        <input class="input"
               name="q"
               placeholder="Search exams, questions...">
        <button class="button is-white search-btn">
          <i class="fa fa-search"></i>
        </button>
      </form>
      {% endif %}
    </div>

    <!-- RIGHT -->
    <div class="header-right">

      {% if user.is_authenticated %}

        <a href="{% url 'quiz:profile' %}"
           class="welcome-user is-hidden-mobile">
          Welcome,
          <strong>{{ user.first_name|default:user.username }}</strong>
        </a>

        <a href="{% url 'quiz:notifications_list' %}" class="icon-btn">
          <i class="fa fa-bell"></i>
          {% if unread_count|default:0 > 0 %}
            <span class="notif-badge">{{ unread_count }}</span>
          {% endif %}
        </a>

        <a href="#"
           class="button is-light"
           onclick="event.preventDefault();
                    document.getElementById('logout-form').submit();">
          <i class="fa fa-right-from-bracket"></i>&nbsp; Logout
        </a>

      {% else %}
        <a href="{% url 'accounts:request-login-otp' %}"
           class="button is-primary">
          Login
        </a>
      {% endif %}

      <button id="theme-toggle" class="button is-white">
        <i class="fa fa-moon"></i>
      </button>

    </div>
  </div>
</header>
